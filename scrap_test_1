
# Exemple molt sencill de scraping:
# https://www.youtube.com/watch?v=rhnMvvmfBFI

from bs4 import BeautifulSoup
import requests
import pandas as pd

url = 'https://resultados.as.com/resultados/futbol/primera/clasificacion/'

page = requests.get(url)
soup = BeautifulSoup(page.content, 'html.parser')

#Equips

eq = soup.find_all('span', class_="nombre-equipo")
#print(eq)

equips = list()

count = 0

for i in eq:
    if count <20:
        equips.append(i.text)
        count +=1
    else:
        break

# Punts
pt = soup.find_all('td', class_="destacado")

punts = list()

count = 0

for i in pt:
    if count <20:
        punts.append(i.text)
        count +=1
    else:
        break

#print(punts)

# Guardem les dos llistes en un df, que posteriorment el podem guardar com a csv.
df = pd.DataFrame({"Nom": equips, "Punts": punts}, index=list(range(1,21)))
print (df)

df.to_csv('classificacio.csv', index=False)
